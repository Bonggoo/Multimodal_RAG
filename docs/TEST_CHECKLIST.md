# ✅ Phase 1 최종 통합 테스트 체크리스트

본 체크리스트는 Phase 2(인증 및 클라우드 격리)로 넘어가기 전, 현재 구축된 Phase 1 엔진의 완성도를 검증하기 위한 항목입니다.

---

## 1. 🧠 RAG 엔진 및 검색 품질 (Retrieval & LLM)
- [x] **문서 학습 (Ingest)**: PDF 업로드 시 파싱이 오류 없이 완료되고 Vector DB에 인덱싱되는가?
- [x] **다중 문서 처리**: 여러 개의 PDF를 올려도 각 문서의 내용을 구분하여 검색할 수 있는가?
- [x] **스마트 컨텍스트 (Smart Routing)**: "XX페이지 알려줘"라고 질문했을 때 해당 페이지를 우선적으로 검색하는가?
- [x] **이미지 인용 (Citation)**: 답변 근거가 되는 페이지의 이미지 경로가 `[[Cited Images: ...]]` 형식으로 정확히 반환되는가?
- [x] **최신 모델 확인**: `gemini-2.5-flash-lite` 모델이 정상적으로 호출되어 답변을 생성하는가?

## 2. 💬 대화 문맥 및 개인화 (Context & Personality)
- [x] **문맥 유지 (Contextual Retrieval)**: "안녕" -> "A에 대해 알려줘" -> "그건 어떻게 조치해?"와 같은 지시대명사 질문에 "그것(A)"을 인식하여 답변하는가?
- [x] **개인화 톤/매너**: 사용자의 프로필에 입력된 직업(엔지니어 등)과 관심사에 맞는 깊이의 답변을 내놓는가?
- [x] **중복 방지**: 매 답변마다 "안녕하세요 최봉구님..."과 같은 중복 인삿말이나 프로필 요약을 생략하고 자연스럽게 답하는가?
- [x] **장기 기억**: 대화가 길어져도 Gemini의 큰 컨텍스트 윈도우를 활용해 이전 대 내용을 잊지 않고 답변하는가?

## 3. 📱 프론트엔드 UX 및 통신 (Frontend & WebSocket)
- [x] **실시간 스트리밍**: WebSocket을 통해 실시간으로 답변이 한 글자씩 출력되는가?
- [ ] **업로드 진행률**: PDF 업로드 시 사이드바에 % 수치와 프로그레스 바가 시각적으로 표시되는가? (※ 너무 빨라 확인 불가)
- [x] **메시지 재시도 (Retry)**: 전송 실패 시 또는 답변이 마음에 안 들 때 Retry 버튼을 누르면 이전 질문이 재생성되는가?
- [x] **메시지 삭제 (Delete)**: 불필요한 메시지를 목록에서 즉시 제거할 수 있는가?
- [x] **이미지 렌더링**: 답변 마지막에 문서 썸네일 이미지가 깨지지 않고 출력되는가?

## 4. ⚙️ 시스템 안정성 (Infrastructure)
- [ ] **Pydantic 검증**: UserProfile 등 복잡한 데이터가 백엔드로 전송될 때 타입 에러 없이 객체로 정상 변환되는가?
- [ ] **WebSocket 복구**: 연결이 끊겼을 때 서버가 멈추지 않고 재연결 대기 상태를 유지하는가?
- [ ] **로깅**: 백엔드 터미널에 쿼리 확장 소요 시간 및 검색 시간이 벤치마킹 데이터로 출력되는가?

---

### 🧪 테스트 방법 제안
1. **시나리오**: `Festo HPPF` 매뉴얼을 업로드합니다.
2. **질문 A**: "안녕, 난 지금 자동화 장비 전문가로서 이 그리퍼를 조립해야 해."
3. **질문 B**: "이 문서 12페이지에 조립 단계가 어떻게 돼?" (스마트 라우팅 확인)
4. **질문 C**: "그 다음 단계에서 주의할 점은?" (문맥 유지 확인)
5. **UI 조작**: 질문 C를 'Retry' 하거나 삭제해 봅니다.

위 항목들을 모두 확인하신 후, 문제가 없다면 **Phase 2 (구글 로그인 및 클라우드 격리)** 작업을 시작하시면 됩니다!
